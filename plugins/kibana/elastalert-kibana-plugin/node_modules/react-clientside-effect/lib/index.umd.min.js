!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e.withSideEffect=t(e.React)}(this,function(e){"use strict";var t="default"in e?e.default:e;var n=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t};var o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},r=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),p=0;p<i.length;p++){var f=i[p];if(!c(f))return!1;var a=e[f],d=t[f];if(!1===(r=n?n.call(o,a,d,f):void 0)||void 0===r&&a!==d)return!1}return!0};return function(i,u){if("production"!==process.env.NODE_ENV){if("function"!=typeof i)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof u)throw new Error("Expected handleStateChangeOnClient to be a function.")}return function(c){if("production"!==process.env.NODE_ENV&&"function"!=typeof c)throw new Error("Expected WrappedComponent to be a React component.");var p,f=[];function a(){p=i(f.map(function(e){return e.props})),u(p)}var d=function(e){function o(){return e.apply(this,arguments)||this}n(o,e),o.peek=function(){return p};var i=o.prototype;return i.shouldComponentUpdate=function(e){return!r(e,this.props)},i.componentDidMount=function(){f.push(this),a()},i.componentDidUpdate=function(){a()},i.componentWillUnmount=function(){var e=f.indexOf(this);f.splice(e,1),a()},i.render=function(){return t.createElement(c,this.props)},o}(e.Component);return o(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(c)+")"),d}}});
